#!/usr/bin/env node

var grunt = require('grunt');
var commander = require('commander');

commander.usage('[command] [option]');

commander
	.command('start')
	.option( '-p, --port [type]', 'port for server to listen on [8080]', 8080 )
	.description('Start Solidus')
	.action( function( env ){
		var solidus = require('../solidus.js');
		solidus.start({
			port: env.port
		});
		//process.exit();
	});

commander
	.command('*')
	.action( function(){
		//var gruntfile = require('../Gruntfile.js');
		//gruntfile( grunt );
		grunt.solidus_cwd = process.cwd();
		process.chdir( __dirname );
		grunt.cli();
	});

commander.parse( process.argv );